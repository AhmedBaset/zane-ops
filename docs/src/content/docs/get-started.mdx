---
title: Deploying Zaneops to your server (alpha)
description: 'Setup and install zaneops'
---

import {FileTree, Steps} from '@astrojs/starlight/components';

This guide will show how to deploy zaneops to your server, keep in mind that this is very alpha and is subject to change
and/or break, do not use this for production.

But if you like living on the edge ðŸ˜Ž, feel free to test the app and report any bug encountered.
For now the features implemented are :

- **UI** : login/logout, creating project
- **API** : login/logout, creating,updating,archiving projects, creating services from docker images, archiving services,
updating services (by redeploying them). You can find a reference of the API
at https://zane.fredkiss.dev/docs/api-reference/openapi

## Prerequesites

You need to install [docker](https://docs.docker.com/engine/install/) and be on a Unix machine.

## Process

<Steps>
1. Go to the folder where you want to install zaneops

    This can be any folder, but in this setup we will choose `/var/www/zaneops` :

    ```shell
    mkdir -p /var/www/zaneops 
    cd /var/www/zaneops
    ```

2. Download the makefile for the project :

    ```shell
    curl https://raw.githubusercontent.com/zane-ops/zane-ops/main/deploy.mk > Makefile
    ```

3. Launch the setup process :

    ```shell
    make setup
    ```

    After this step, you should have a folder looking like this :


    <FileTree>

    - zaneops
        - .fluentd/
        - temporalio
            - config
                - development.yaml
            - entrypoint.sh
        - docker-stack.prod-http.yaml
        - docker-stack.prod.yaml
        - .env
        - Makefile

    </FileTree>

4. Update environment variables in `.env` :

    please modify the contents to better suit your needs (see [Here for how to customize](#how-is-each-env-variable-used) ) :

    ```shell
    # This is an EXAMPLE, please modify before using in production
    IMAGE_VERSION=canary # zaneops version to install
    ZANE_APP_DIRECTORY="/var/www/zaneops" # where you will install zaneops 
    ZANE_DB_USER=zane
    ZANE_DB_PASSWORD= # generate with "$(openssl rand -base64 32)" 
    DJANGO_SECRET_KEY= # generate with "$(openssl rand -base64 64)" 
    ROOT_DOMAIN="127-0-0-1.sslip.io" # The root domain which will be used to generate domains for applications
    ZANE_APP_DOMAIN="127-0-0-1.sslip.io" # the domain where the zaneops dashboard will be installed 
    ```

5. Deploy ZaneOps :

    ```shell
    make deploy
    ```

6. Create your first user to login to the dashboard :

    ```shell
    make create-user
    ```
</Steps>



### How is each env variable used

1. `IMAGE_VERSION` : used to tell which version of zaneops to install
2. `ZANE_APP_DIRECTORY` : Used for telling where is the directory where zaneops will be installed
3. `ZANE_DB_USER` / `ZANE_DB_PASSWORD` : credentials used for authenticating to DB where zaneops is installed
4. `DJANGO_SECRET_KEY` :
    - This is used by the API to do many things, such as hashing user session tokens, read more
here  https://stackoverflow.com/a/47117966/10322846
    - This needs to be really secure and at least 64 chars for good mesure, you can use a tool
like `openssl`
to generate a strong password, ex: `openssl rand -base64 64`
5. `ROOT_DOMAIN` :
    - ZaneOps will use this domain to generate subdomains for the web apps deployed with zaneops, like
this: `my-web-app.zaneops.local`
    - The domain in itself won't be used for anything else, you may use the root domain to host the dashboard there
6. `ZANE_APP_DOMAIN`:  ZaneOps will use this domain as the access point where it will be installed and accessible, once deployed you
will be able to access the dashboard using this domain. This can have be the same as `ROOT_DOMAIN`.


### Other commands

```shell
# Shutting down zaneops
make remove

# Deleting zaneops & all resources created by it
make delete-resources
```

### In case you want to deploy locally

It is totally possible to do so, for that you will need to not specify the env variable `ZANE_APP_DOMAIN`, 
zaneops will automatically be available at http://127-0-0-1.sslip.io.